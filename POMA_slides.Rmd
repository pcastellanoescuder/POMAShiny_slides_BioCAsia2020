---
title: "POMAShiny"
subtitle: "An User-friendly Web-based Workflow for Statistical Analysis of Mass Spectrometry Data"
author: "Pol Castellano-Escuder"
date: "Oct 15, 2020 | BioC Asia 2020 (`#BioCAsia2020`)"
output:
  xaringan::moon_reader:
    css: ["mycss.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true 
      countIncrementalSlides: false
    includes:
      in_header: header.html
---

# Outline

.pull-left[

### 1. Context
### 2. Aims
### 3. Results
### 4. Conclusions

]

.pull-right[

.center[
<img src="pix/logo.png" width="250">
]

]

---

class: inverse, center, middle
<html><div style='float:left'></div><hr color='#f38620' size=1px width=720px></html> 

# CONTEXT

---

# What’s Metabolomics?

_"Metabolomics is the identification and quantification of the small molecule metabolic products (the metabolome) of a biological system. Mass spectrometry and NMR spectroscopy are the techniques most often used for metabolome profiling"<sup>1</sup>_

## _"The Omics Cascade"_

.center[
<img src="pix/omics.png" width="750"><sup>2</sup>
]

.footnote[
[1] https://www.nature.com/subjects/metabolomics

[2] Narad P., Kirthanashri S.V. (2018) Introduction to Omics. In: Arivaradarajan P., Misra G. (eds) Omics Approaches, Technologies And Applications. Springer, Singapore
]
  
---

# Freely Available Existing Tools

.pull-left[

```{r, warning = FALSE, comment = NA, message = FALSE, echo = FALSE, dpi = 200}
library(ggplot2)
tools <- readxl::read_excel("tools.xlsx")
ggplot(tools, aes(class, ..count..)) +
  geom_bar(aes(fill = type), position = "dodge") +
  xlab("") +
  ylab("Number of tools") +
  theme_bw() +
  theme(legend.title = element_blank(),
        legend.text = element_text(size = 18),
        axis.text = element_text(size = 16),
        axis.title = element_text(size = 20),
        legend.position = "top")
```

]

.pull-right[

#### Web app tools that include statistical analysis options<sup>3</sup>

  - Workflow4Metabolomics 
  - Galaxy-M
  - XCMS 
  - MetaboAnalyst

#### Drawbacks

  - Few statistical methods available
  - Covariates
  - Interoperability and reproducibility
]

.footnote[

[3] Spicer, R., Salek, R. M., Moreno, P., Cañueto, D., & Steinbeck, C. (2017). Navigating freely-available software tools for metabolomics analysis. Metabolomics, 13(9), 106.

]

---

class: inverse, center, middle
<html><div style='float:left'></div><hr color='#f38620' size=1px width=720px></html> 

# AIMS

---

#  Aims

.font110[
  - Provide users of an <span style="color:#f38620">**user-friendly**</span> and <span style="color:#f38620">**intuitive**</span> tool
  ]

.font110[
  - Allow users to include <span style="color:#f38620">**covariates**</span> in the analysis     
  ]
  
.font110[
  - Provide users <span style="color:#f38620">**alternative statistical methodologies**</span> for mass spectrometry data analysis    
  ]
  
.font110[
  - Provide a fully <span style="color:#f38620">**reproducible**</span> and <span style="color:#f38620">**transparent**</span> tool      
  
      - Open Source     
      - R/**<span style="color:#f38620">Bioconductor</span>** package
    ]
    
.font110[
  - **Create a web app tool <span style="color:#f38620">not to substitute</span> powerful and robust tools that already exist but an <span style="color:#f38620">user-friendly and intuitive alternative</span> that addresses some of the issues not covered by the other tools**
  ]
  
---

class: inverse, center, middle
<html><div style='float:left'></div><hr color='#f38620' size=1px width=720px></html> 

# RESULTS

---

# POMAShiny App

![](pix/landscape.png)

<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# POMAShiny Workflow

.center[
<img src="pix/graphical_abstract.png" width="700">
]

<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# Architecture

![](pix/architecture.png)

---

# Upload Data Panel

![](pix/upload_data.png)
<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# Upload Data Panel

![](pix/upload_data2.png)
<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# Interactive Visualization

![](pix/boxplots.png)

![](pix/pca.png)
---

# Help & Documentation

![](pix/normalization.png)
<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# Help & Documentation

![](pix/help.png)
<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# Statistical Analysis

![](pix/univariate.png)
<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# Prediction Models in POMAShiny

  - Test set
  - External validation
  - Real prediction metrics
  
![](pix/prediction.png)
<a href="https://github.com/pcastellanoescuder/POMAShiny"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMAShiny</a><br>

---

# POMA Package

## `POMA` package will become part of Bioconductor version 3.12 on October 28th, 2020 `r emo::ji("tada")` 

<a href="https://github.com/pcastellanoescuder/POMA"><i class="fab fa-github"></i>&nbsp; https://github.com/pcastellanoescuder/POMA</a><br>

---

class: inverse, center, middle
<html><div style='float:left'></div><hr color='#f38620' size=1px width=720px></html> 

# CONCLUSIONS

---

# Conclusions

<b>

  - We have developed a <span style="color:#f38620">FAST</span>, <span style="color:#f38620">FRIENDLY</span> and <span style="color:#f38620">FREE</span> software that is called POMA
  
  - POMA is <span style="color:#f38620">full-based in R</span> language and uses a <span style="color:#f38620">Shiny</span> framework to run
  
  - POMA provides an accurate <span style="color:#f38620">DOCUMENTATION</span> ("HELP") at each step of analysis that coluld improve the results and facilitate the interpretation of it
  
  - POMA can generate two types of <span style="color:#f38620">AUTOMATIC REPORTS</span>: Exploratory report and Statistical report
  
  - POMA is in a constant development. According to this, we are <span style="color:#f38620">totally open to user</span> bug reports to keep improving our app

</b>

---

class: inverse, center, middle

# Thank you all!

[Statistics and Bioinformatics Research Group](https://sites.google.com/view/estbioinfo/home) and [Biomarkers and Nutritional & Food Metabolomics Research Group](http://www.nutrimetabolomics.com/) from [University of Barcelona](https://www.ub.edu/web/ub/en/index.html?)

<html><div style='float:left'></div><hr color='#f38620' size=1px width=720px></html> 

<a href="mailto:polcaes@gmail.com"><i class="fas fa-envelope"></i>&nbsp; polcaes@gmail.com</a><br>
<a href="https://pcastellanoescuder.github.io/"><i class="fas fa-link"></i>&nbsp; pcastellanoescuder.github.io/</a><br>
<a href="http://twitter.com/polcastellano_"><i class="fab fa-twitter"></i>&nbsp; @polcastellano_</a><br>
<a href="https://github.com/pcastellanoescuder"><i class="fab fa-github"></i>&nbsp; @pcastellanoescuder</a><br>
<a href="https://www.ub.edu/web/ub/en/index.html?"><i class="fas fa-map-marker-alt"></i>&nbsp; University of Barcelona</a>

